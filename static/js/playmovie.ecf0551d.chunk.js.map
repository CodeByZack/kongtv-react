{"version":3,"sources":["page/play/index.js"],"names":["useStyles","makeStyles","theme","root","backgroundColor","palette","background","default","minHeight","PlayMovie","jumpBack","store","useContainer","jumpUtil","styles","location","useLocation","nowPlay","getQuery","search","useEffect","url","playerXG","window","HlsJsPlayer","id","playsinline","whitelist","playbackRate","defaultPlaybackRate","download","closeVideoTouch","airplay","fluid","destroy","className","title","name","onBack"],"mappings":"0GAAA,oEAsBMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,WAAWC,QAC1CC,UAAW,aAwBAC,UApBG,WAAO,IAEfC,EADaC,IAAMC,eAAnBC,SACAH,SACFI,EAASd,IACTe,EAAWC,cACXC,EAAUC,YAASH,EAASI,QAQlC,OANAC,qBAAU,WACR,GAAKH,EAAQI,IAAb,CACA,IAAIC,EAAW,IAAIC,OAAOC,YA7BA,CAC5BC,GAHe,WAIfJ,IA2BsDJ,EAAQI,IA1B9DK,aAAa,EACbC,UAAW,CAAC,IACZC,aAAc,CAAC,GAAK,IAAM,EAAG,IAAK,GAClCC,oBAAqB,EACrBC,UAAU,EACVC,iBAAiB,EACjBC,SAAS,EACTC,OAAO,IAoBL,OAAO,kBAAMX,EAASY,cACrB,CAACjB,EAAQI,MAGV,yBAAKc,UAAWrB,EAAOX,MACrB,kBAAC,IAAD,CAAQiC,MAAOnB,EAAQoB,KAAMC,OAAQ5B,IACrC,yBAAKe,GAtCM","file":"static/js/playmovie.ecf0551d.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport store from '@/store';\nimport { getQuery } from '@/utils';\nimport { NavBar } from '@/components/myAppBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useLocation } from 'react-router-dom';\n\nconst VIDEO_ID = 'VIDEO_ID';\n\nconst PLAYER_CONFIG = url => ({\n  id: VIDEO_ID,\n  url,\n  playsinline: true,\n  whitelist: [''],\n  playbackRate: [0.5, 0.75, 1, 1.5, 2],\n  defaultPlaybackRate: 1,\n  download: true,\n  closeVideoTouch: true,\n  airplay: true,\n  fluid: true,\n});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    minHeight: '100vh',\n  },\n}));\n\nconst PlayMovie = () => {\n  const { jumpUtil } = store.useContainer();\n  const { jumpBack } = jumpUtil;\n  const styles = useStyles();\n  const location = useLocation();\n  const nowPlay = getQuery(location.search);\n\n  useEffect(() => {\n    if (!nowPlay.url) return;\n    let playerXG = new window.HlsJsPlayer(PLAYER_CONFIG(nowPlay.url));\n    return () => playerXG.destroy();\n  }, [nowPlay.url]);\n\n  return (\n    <div className={styles.root}>\n      <NavBar title={nowPlay.name} onBack={jumpBack} />\n      <div id={VIDEO_ID}></div>\n    </div>\n  );\n};\nexport default PlayMovie;\n"],"sourceRoot":""}