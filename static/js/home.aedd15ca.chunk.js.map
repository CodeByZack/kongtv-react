{"version":3,"sources":["page/components/movieItem/index.js","page/components/movieList/index.js","assets/logo192.png","assets/sun_main.png","page/home/home_main/home_item/index.js","page/home/components/swiper/index.js","page/home/home_main/index.js","page/home/components/chipList/index.js","page/home/home_category/index.js","page/home/home_drawer/index.js","page/home/index.js"],"names":["useStyles","makeStyles","theme","movieRoot","width","movieImage","paddingTop","movieTitle","padding","MovieItem","props","tile","styles","store","useContainer","detail","jumpToDetail","jumpUtil","bkUrl","vod_pic","defaultImg","Card","className","onClick","setNowMovie","CardMedia","style","backgroundImage","title","vod_name","CardContent","Typography","align","noWrap","variant","color","component","root","gridList","gridListItem","titleBar","icon","MovieList","movies","classes","Grid","container","spacing","map","index","item","xs","module","exports","homeItemRoot","margin","marginBottom","homeItemTitle","fontSize","palette","text","secondary","display","alignItems","flex","HomeItem","Box","fontWeight","defaultStyle","visibility","height","transform","zIndex","calculatingStyle","length","resStyle","i","_index","push","Swiper","xStart","imgArr","autoPlay","onSwiperItemClick","useState","setIndex","_styles","setStyle","swipeRight","swipeLeft","useEffect","timer","setTimeout","clearTimeout","onTouchStart","e","stopPropagation","touches","pageX","onTouchMove","x","offsetX","d","key","vod_id","imgUrl","ratio","HomeMain","data","dy","filter","movie","type_id_1","dsj","zy","type_id","dm","swipers","year","area","noop","chipListWrapper","overflow","chipListTitle","flexShrink","primary","chipItem","marginRight","backgroundColor","ChipList","onChange","now","Chip","size","label","YearChipList","nowShow","AreaChipList","homeCategoryRoot","boxSizing","background","default","HomeCategory","type","categoryObj","filterOption","setFilterOption","getData","isFetching","list","ticking","handleScroll","window","requestAnimationFrame","document","documentElement","scrollHeight","scrollTop","clientHeight","doSomething","addEventListener","removeEventListener","handleFilterChange","option","drawerTop","backgroundSize","bk","justifyContent","flexDirection","drawerAppName","common","white","textShadow","drawerIcon","drawerList","MyDrawer","Store","home","themeHelper","setDrawerStatus","drawerStatus","Drawer","open","anchor","onClose","Avatar","src","appLogo","List","aria-label","ListItem","button","jumpToWatchHistory","ListItemIcon","ListItemText","themeObj","ThemeArr","dark","toggoleTheme","Home","jumpToSearch","setTabIndex","tabIndex","adviceMovieList","content","CssBaseline","onSearch","value","Tabs","event","newValue","Tab","Toolbar"],"mappings":"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","file":"static/js/home.aedd15ca.chunk.js","sourcesContent":["import { Card, CardMedia, CardContent, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport React from 'react';\nimport store from '@/store';\nimport defaultImg from '@/assets/placeholder.png';\n\nconst useStyles = makeStyles(theme => ({\n  movieRoot: {\n    width: '100%',\n  },\n  movieImage: {\n    paddingTop: '133.33%',\n  },\n  movieTitle: {\n    padding: '5px 10px!important',\n  },\n}));\n\nconst MovieItem = props => {\n  const { tile } = props;\n  const styles = useStyles();\n\n  const { detail, jumpUtil } = store.useContainer();\n  const { jumpToDetail } = jumpUtil;\n  const onMovieClick = () => {\n    detail.setNowMovie(tile);\n    jumpToDetail(tile);\n  };\n\n  const bkUrl = `url(${tile.vod_pic}),url(${defaultImg})`;\n\n  return (\n    <Card className={styles.movieRoot} onClick={onMovieClick}>\n      <CardMedia\n        style={{ backgroundImage: bkUrl }}\n        className={styles.movieImage}\n        // image={tile.vod_pic}\n        title={tile.vod_name}\n      />\n      <CardContent className={styles.movieTitle}>\n        <Typography align=\"center\" noWrap variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {tile.vod_name}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n};\nexport default MovieItem;\n","import React from 'react';\nimport './style.less';\nimport MovieItem from '../movieItem';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  gridList: {},\n  gridListItem: {},\n  titleBar: {},\n  icon: {},\n}));\n\nconst MovieList = props => {\n  const { movies } = props;\n  const classes = useStyles();\n\n  if (!movies) return null;\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={1} className={classes.gridList}>\n        {movies.map((tile, index) => (\n          <Grid item xs={4}>\n            <MovieItem tile={tile} />\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n};\n\nexport default MovieList;\n","module.exports = __webpack_public_path__ + \"static/media/logo192.9c3dd914.png\";","module.exports = __webpack_public_path__ + \"static/media/sun_main.74de97a7.png\";","import React from 'react';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport MovieList from '@/page/components/movieList/';\nimport LocalMoviesIcon from '@material-ui/icons/LocalMovies';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\n\nconst useStyles = makeStyles(theme => ({\n  homeItemRoot: {\n    margin: `0 ${theme.spacing(2)}px`,\n    marginBottom: theme.spacing(1),\n  },\n  homeItemTitle: {\n    padding: `${theme.spacing(1)}px 0`,\n    fontSize: theme.spacing(2),\n    color: theme.palette.text.secondary,\n    display: 'flex',\n    alignItems: 'center',\n    '& span': {\n      flex: 1,\n    },\n  },\n}));\n\nconst HomeItem = props => {\n  const { title, movies } = props;\n  const styles = useStyles();\n  return (\n    <div className={styles.homeItemRoot}>\n      <div className={styles.homeItemTitle}>\n        <LocalMoviesIcon />\n        <Typography variant=\"span\">\n          <Box fontWeight={600} component=\"span\">\n            {title}\n          </Box>\n        </Typography>\n        <KeyboardArrowRightIcon />\n      </div>\n      <MovieList movies={movies} />\n    </div>\n  );\n};\n\nexport default HomeItem;\n","import React, { useState, useEffect } from 'react';\nimport RatioImage from '../../../../components/ratioImage';\nimport './style.less';\n\nconst defaultStyle = { visibility: 'hidden', width: 0, height: 0 };\nconst styles = [\n  {\n    transform: 'translate(-150%, -50%) scale3d(0.8, 0.8, 0.8)',\n    zIndex: 1,\n  },\n  {\n    transform: 'translate(-100%, -50%) scale3d(0.9, 0.9, 0.9)',\n    zIndex: 2,\n  },\n  {\n    transform: 'translate(-50%, -50%) scale3d(1, 1, 1)',\n    zIndex: 3,\n  },\n  {\n    transform: 'translate(0%, -50%) scale3d(0.9, 0.9, 0.9)',\n    zIndex: 2,\n  },\n  {\n    transform: 'translate(50%, -50%) scale3d(0.8, 0.8, 0.8)',\n    zIndex: 1,\n  },\n];\n\nconst calculatingStyle = (index, length) => {\n  let resStyle = [];\n  if (index === 0) {\n    for (let i = 0; i < length; i++) {\n      let _index = i - index;\n      const style = styles[_index] ? styles[_index] : defaultStyle;\n      resStyle.push(style);\n    }\n  } else if (index > 0) {\n    for (let i = 0; i < length; i++) {\n      let _index = i - index >= 0 ? i - index : i - index + length;\n      const style = styles[_index] ? styles[_index] : defaultStyle;\n      resStyle.push(style);\n    }\n  } else if (index < 0) {\n    for (let i = 0; i < length; i++) {\n      let _index = i - index > 4 ? i - index - length : i - index;\n      const style = styles[_index] ? styles[_index] : defaultStyle;\n      resStyle.push(style);\n    }\n  }\n  // console.log( index );\n  // console.log( resStyle );\n  return resStyle;\n};\n\nconst Swiper = props => {\n  const { imgArr = [], autoPlay = true } = props;\n  const { onSwiperItemClick = () => {} } = props;\n\n  const [index, setIndex] = useState(0);\n  const [_styles, setStyle] = useState([]);\n  let xStart;\n  const startHandle = e => {\n    e.stopPropagation();\n    xStart = e.touches[0].pageX;\n  };\n  const moveHandle = e => {\n    e.stopPropagation();\n    let touch = e.touches[0];\n    let x = touch.pageX,\n      offsetX = xStart - x;\n    if (offsetX <= -50) {\n      // 向右\n      // console.log('->');\n      swipeRight();\n    } else if (offsetX >= 50) {\n      // 向左\n      // console.log('<-');\n      swipeLeft();\n    }\n  };\n  const swipeRight = () => {\n    if (index - 1 === -imgArr.length) {\n      setIndex(0);\n      setStyle(calculatingStyle(0, imgArr.length));\n    } else {\n      setIndex(index - 1);\n      setStyle(calculatingStyle(index - 1, imgArr.length));\n    }\n  };\n  const swipeLeft = () => {\n    if (index + 1 === imgArr.length) {\n      setIndex(0);\n      setStyle(calculatingStyle(0, imgArr.length));\n    } else {\n      setIndex(index + 1);\n      setStyle(calculatingStyle(index + 1, imgArr.length));\n    }\n  };\n\n  useEffect(() => {\n    if (!imgArr.length) return;\n    const timer = setTimeout(() => {\n      swipeRight();\n    }, 2000);\n    return () => clearTimeout(timer);\n    //eslint-disable-next-line\n  }, [imgArr, autoPlay, index]);\n  useEffect(() => {\n    if (imgArr.length !== 0) {\n      setStyle(calculatingStyle(0, imgArr.length));\n    }\n  }, [imgArr]);\n\n  return (\n    <div className=\"ks-swiper\" onTouchStart={startHandle} onTouchMove={moveHandle}>\n      {imgArr.map((d, i) => {\n        return (\n          <div\n            key={d.vod_id}\n            className=\"ks-swiper-item\"\n            style={_styles[i]}\n            onClick={() => onSwiperItemClick(d, i)}\n          >\n            {/* <img src={d.vod_pic} alt={d.vod_name} /> */}\n            <RatioImage imgUrl={d.vod_pic} ratio={1.4} />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Swiper;\n","import React from 'react';\nimport HomeItem from './home_item';\nimport Swiper from '../components/swiper';\nimport store from '../../../store';\n\nconst HomeMain = props => {\n  const { data } = props;\n\n  const dy = data.filter(movie => movie.type_id_1 === 1);\n  const dsj = data.filter(movie => movie.type_id_1 === 2);\n  const zy = data.filter(movie => movie.type_id === 3);\n  const dm = data.filter(movie => movie.type_id === 4);\n\n  const { detail, jumpUtil } = store.useContainer();\n  const { jumpToDetail } = jumpUtil;\n\n  const swipers = [dy[0], dsj[0], zy[0], dm[0], dy[1]].filter(i => i);\n\n  const onSwiperItemClick = movie => {\n    detail.setNowMovie(movie);\n    jumpToDetail(movie);\n  };\n\n  return (\n    <div className=\"home_main_page\">\n      <Swiper imgArr={swipers} onSwiperItemClick={onSwiperItemClick}></Swiper>\n      <HomeItem title={'热播影视'} movies={dsj} />\n      <HomeItem title={'热播电影'} movies={dy} />\n      <HomeItem title={'热播综艺'} movies={zy} />\n      <HomeItem title={'热播动漫'} movies={dm} />\n    </div>\n  );\n};\nexport default HomeMain;\n","import { Chip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport React from 'react';\n\nconst year = ['全部', '2020', '2019', '2018', '2017', '2016', '2015', '2014', '2013'];\nconst area = [\n  '全部',\n  '大陆',\n  '香港',\n  '台湾',\n  '美国',\n  '法国',\n  '英国',\n  '日本',\n  '韩国',\n  '德国',\n  '泰国',\n  '印度',\n  '意大利',\n  '西班牙',\n  '加拿大',\n  '其他',\n];\nconst noop = () => {};\n\nconst useStyles = makeStyles(theme => ({\n  chipListWrapper: {\n    display: 'flex',\n    overflow: 'auto',\n    alignItems: 'center',\n    marginBottom: theme.spacing(2),\n  },\n  chipListTitle: {\n    flexShrink: 0,\n    fontWeight: 'bold',\n    color: theme.palette.text.primary,\n  },\n  chipItem: {\n    marginRight: theme.spacing(),\n    backgroundColor: 'transparent',\n  },\n}));\n\nconst ChipList = props => {\n  const { data = year, title = '年代', onChange = noop, now } = props;\n  // const [now,setNow] = useState();\n  const styles = useStyles();\n\n  const handleClick = item => {\n    if (item === '全部') {\n      onChange('');\n    } else {\n      onChange(item);\n    }\n    // setNow(item);\n  };\n\n  return (\n    <div className={styles.chipListWrapper}>\n      <span className={styles.chipListTitle}>{title}：</span>\n      {data.map(i => (\n        <Chip\n          className={styles.chipItem}\n          onClick={() => handleClick(i)}\n          size=\"small\"\n          label={i}\n          variant={now === i ? 'outlined' : 'default'}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport const YearChipList = ({ onChange, nowShow }) => {\n  return <ChipList title=\"年代\" now={nowShow} data={year} onChange={onChange} />;\n};\n\nexport const AreaChipList = ({ onChange, nowShow }) => {\n  return <ChipList title=\"地区\" now={nowShow} data={area} onChange={onChange} />;\n};\n\nexport default ChipList;\n","import React, { useEffect } from 'react';\nimport MovieList from '@/page/components/movieList/';\nimport { Loading } from '@/components';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AreaChipList, YearChipList } from '../components/chipList';\nimport store from '@/store';\n\nconst useStyles = makeStyles(theme => ({\n  homeCategoryRoot: {\n    height: 'calc(100vh - 80px)',\n    boxSizing: 'border-box',\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(1),\n  },\n}));\n\nconst HomeCategory = props => {\n  const { type } = props;\n  const styles = useStyles();\n  const categoryObj = store.useContainer()[type];\n  const { filterOption, setFilterOption, getData, isFetching, list } = categoryObj;\n\n  useEffect(() => {\n    let ticking = false;\n    const doSomething = () => {\n      if (isFetching) return;\n      const { scrollHeight, scrollTop, clientHeight } = document.documentElement;\n      if (scrollHeight - scrollTop - clientHeight < 20) {\n        getData();\n      }\n    };\n    const handleScroll = e => {\n      if (!ticking) {\n        window.requestAnimationFrame(function() {\n          doSomething();\n          ticking = false;\n        });\n        ticking = true;\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  // eslint-disable-next-line\n  }, [isFetching]);\n\n  const handleFilterChange = key => item => {\n    const option = { ...filterOption, [key]: item };\n    setFilterOption(option);\n  };\n\n  return (\n    <div className={styles.homeCategoryRoot}>\n      <YearChipList nowShow={filterOption.year} onChange={handleFilterChange('year')} />\n      <AreaChipList nowShow={filterOption.area} onChange={handleFilterChange('area')} />\n      <MovieList movies={list} />\n      {isFetching && <Loading />}\n    </div>\n  );\n};\nexport default HomeCategory;\n","import React from 'react';\nimport Store from '@/store';\nimport appLogo from '@/assets/logo192.png';\nimport bk from '@/assets/sun_main.png';\nimport {\n  Avatar,\n  Drawer,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport HistoryIcon from '@material-ui/icons/History';\nimport InfoIcon from '@material-ui/icons/Info';\nimport DarkIcon from '@material-ui/icons/Brightness4';\nimport LightIcon from '@material-ui/icons/Brightness7';\nimport themeObj from '@/utils/theme';\n\n\nconst useStyles = makeStyles(theme => ({\n  drawerTop: {\n    width: '75vw',\n    height: '25vh',\n    backgroundSize: 'cover',\n    backgroundImage: `url(${bk})`,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n  },\n  drawerAppName: {\n    paddingTop: theme.spacing(1),\n    color: theme.palette.common.white,\n    textShadow: '5px -2px 4px #1820268f',\n    // fontSize: 18\n  },\n  drawerIcon: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  drawerList: {},\n}));\n\nconst MyDrawer = props => {\n  const { home,jumpUtil,themeHelper } = Store.useContainer();\n  const { setDrawerStatus, drawerStatus } = home;\n  const styles = useStyles();\n\n  const handleClick = (type)=>()=>{\n    if(type === \"watchhistory\"){\n      jumpUtil.jumpToWatchHistory();\n      setDrawerStatus(false);\n    }\n  };\n\n  const toggoleTheme = ()=>{\n    if(themeHelper.theme === themeObj.ThemeArr.dark){\n      themeHelper.toggoleTheme(\"light\");\n    }else{\n      themeHelper.toggoleTheme(\"dark\");\n    }\n    setDrawerStatus(false);\n  };\n\n\n  return (\n    <Drawer open={drawerStatus} anchor={'left'} onClose={() => setDrawerStatus(false)}>\n      <div className={styles.drawerTop}>\n        <Avatar src={appLogo} className={styles.drawerIcon} />\n        <Typography component=\"p\" className={styles.drawerAppName}>\n          风影院 V1.0.0\n        </Typography>\n      </div>\n      <List component=\"nav\" aria-label=\"main mailbox folders\">\n        <ListItem button onClick={handleClick('watchhistory')}>\n          <ListItemIcon>\n            <HistoryIcon />\n          </ListItemIcon>\n          <ListItemText secondary=\"观看记录\" />\n        </ListItem>\n        <ListItem button onClick={toggoleTheme}>\n          <ListItemIcon>\n            {themeHelper.theme ===  themeObj.ThemeArr.dark ? <DarkIcon/> : <LightIcon />}\n          </ListItemIcon>\n          <ListItemText secondary={themeHelper.theme ===  themeObj.ThemeArr.dark ?\"夜间模式\":\"日间模式\"} />\n        </ListItem>\n        <ListItem button>\n          <ListItemIcon>\n            <InfoIcon />\n          </ListItemIcon>\n          <ListItemText secondary=\"关于\" />\n        </ListItem>\n      </List>\n    </Drawer>\n  );\n};\nexport default MyDrawer;\n","import React from 'react';\nimport { MyAppBar } from '@/components';\nimport store from '@/store';\nimport HomeMain from './home_main/';\nimport HomeCategory from './home_category/';\nimport Toast from '@/components/toast/toast';\nimport { Tab, Tabs, Toolbar, CssBaseline } from '@material-ui/core';\nimport MyDrawer from './home_drawer';\n\n// const tabs = [\n//   { title: '首页', sub: '1' },\n//   { title: '电影', sub: '2' },\n//   { title: '电视剧', sub: '3' },\n//   { title: '动漫', sub: '4' },\n//   { title: '综艺', sub: '5' },\n// ];\n\nconst Home = props => {\n  const { home, jumpUtil } = store.useContainer();\n  const { jumpToSearch } = jumpUtil;\n  const { setTabIndex, tabIndex, adviceMovieList } = home;\n\n  const handleChange = (event, newValue) => {\n    setTabIndex(newValue);\n  };\n  const onSearch = value => {\n    jumpToSearch();\n  };\n\n  if (adviceMovieList.length === 0) {\n    return <Toast type=\"loading\" content=\"加载数据中...\" />;\n  }\n  return (\n    <div className=\"home-page\">\n      <CssBaseline />\n      <MyAppBar onSearch={onSearch}>\n        <Tabs\n          variant=\"fullWidth\"\n          value={tabIndex}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n        >\n          <Tab label=\"首页\" />\n          <Tab label=\"电视剧\" />\n          <Tab label=\"动漫\" />\n          <Tab label=\"电影\" />\n          <Tab label=\"综艺\" />\n        </Tabs>\n      </MyAppBar>\n      <MyDrawer />\n      <Toolbar />\n      <Toolbar />\n\n      {tabIndex === 0 && <HomeMain data={adviceMovieList} />}\n      {tabIndex === 1 && <HomeCategory type=\"dsj\" />}\n      {tabIndex === 2 && <HomeCategory type=\"dm\" />}\n      {tabIndex === 3 && <HomeCategory type=\"dy\" />}\n      {tabIndex === 4 && <HomeCategory type=\"zy\" />}\n    </div>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}